# Единый конфиг ARK/Shotgun переключателей
modes:
  scaffold_mode: "auto"
  allow_critical_paths: false
  autonomous_enabled: true
  hack_userinput: false
  wait_mode: "AUTO"   # ALWAYS | OFF | AUTO | ONCE
  router_llm_enabled: true
  guardrails_enabled: true

response:
  edits_only_default: true
  structured_format: true
  schema_version: "1.0"

observability:
  reports_dir: "reports/ux"
  logs_dir: "logs"
  trace_level: "info"
  metrics_enabled: true
  collection_interval: 300

budgets:
  max_files_per_task: 150
  max_changed_lines_per_task: 1500
  max_tokens_per_request: 10000
  max_concurrent_tasks: 1

quality:
  min_coverage: 80
  max_complexity: 10
  max_duplication: 5
  require_tests: true
  require_documentation: true

guardrails:
  fail_closed: true
  enable_ephemeral_mode: true
  ephemeral_timeout: 300  # 5 minutes in seconds
  enable_task_validation: true
  enable_budget_tracking: true
  enable_path_validation: true
  enable_opa_policies: true

notes:
  # Конфигурация для автономного выполнения ARK plan v1
  # Соблюдение guardrails и budgets обязательно
  # Режим edits_only_default: true для структурированных правок
