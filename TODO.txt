# Оставшиеся задачи по исправлению тестов

## Задача 1: Исправить интеграционные тесты, которые ожидают другие имена проектов
**Файл:** frontend/tests/integration/project-selection.spec.ts
**Проблема:** Тесты ожидают, что имена проектов будут созданы с использованием 'basename' или других форматов, но на самом деле store использует `path.split(/[\\/]/).pop()` для извлечения имени.
**Причина:** В функциях store используется логика `path.split(/[\\/]/).pop()` для получения имени проекта, но в тестах ожидаются другие имена.
**Как исправить:** 
- Обновить ожидания в тестах, чтобы они соответствовали реальному поведению store
- Например, для пути '/last/project' имя будет 'project', а не 'last-project'
- Исправить проверки на строки типа expect.any(Number) для lastOpened вместо expect.any(String)

## Задача 2: Исправить E2E тесты, которые ожидают другие имена проектов  
**Файл:** frontend/tests/e2e/project-selection.e2e.spec.ts
**Проблема:** Тесты ожидают, что имена проектов будут иметь определенные значения, но store генерирует их по-другому.
**Причина:** Логика извлечения имени из пути отличается между ожидаемым и реальным поведением.
**Как исправить:**
- Обновить ожидания в тестах, чтобы они соответствовали реальному поведению store
- Убедиться, что имена проектов соответствуют результату `path.split(/[\\/]/).pop()`

## Задача 3: Исправить тесты, которые ожидают эмиссию событий
**Файл:** frontend/tests/integration/project-selection.spec.ts и frontend/tests/e2e/project-selection.e2e.spec.ts
**Проблема:** Тесты ожидают, что компоненты будут эмитить события 'opened', но это может не происходить в текущей реализации.
**Причина:** Компоненты могут не эмитить ожидаемые события или эмиттеры могут быть неправильно настроены.
**Как исправить:**
- Проверить, что ProjectSelector.vue правильно эмитит события при открытии проекта
- Убедиться, что компонент эмитит 'opened' с правильным аргументом (путем проекта)

## Задача 4: Исправить проверку длины списка проектов в тестах
**Файл:** frontend/tests/e2e/project-selection.e2e.spec.ts и frontend/tests/integration/project-selection.spec.ts
**Проблема:** Тесты ожидают, что список проектов будет определенной длины, но из-за логики добавления/обновления длина отличается.
**Причина:** Функция addToRecent перемещает существующие проекты в начало списка, а не создает дубликаты, что влияет на общее количество.
**Как исправить:**
- Обновить ожидания длины списка, чтобы они соответствовали реальному поведению store
- Учесть, что при открытии уже существующего проекта он просто перемещается в начало списка

## Задача 5: Исправить проверку содержимого localStorage в интеграционных тестах
**Файл:** frontend/tests/integration/project-selection.spec.ts
**Проблема:** Тесты ожидают, что localStorage будет содержать определенные значения, но реальное поведение store может отличаться.
**Причина:** Store может сохранять проекты с другим форматом данных или в другом порядке.
**Как исправить:**
- Обновить проверки содержимого localStorage, чтобы они соответствовали реальному формату данных
- Убедиться, что данные в localStorage совпадают с тем, что реально сохраняет store