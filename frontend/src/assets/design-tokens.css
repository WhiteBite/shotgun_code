/* ============================================
   SHOTGUN CODE - DESIGN SYSTEM v2.1
   Enhanced Dark Theme with Improved Contrast
   ============================================ */

:root {
    /* === HIERARCHICAL BACKGROUND COLORS === */
    /* Clear 4-level hierarchy for visual depth */
    --bg-0: #0a0e1a;           /* Deepest - main app background */
    --bg-1: #111827;           /* Panels, sidebars, cards */
    --bg-2: #1e2842;           /* Hover states, elevated elements */
    --bg-3: #2a3554;           /* Active states, highlights */
    
    /* Legacy aliases for compatibility */
    --bg-app: var(--bg-0);
    --bg-app-gradient: linear-gradient(135deg, #0a0e1a 0%, #0d1220 50%, #111827 100%);
    --bg-surface: var(--bg-1);
    --bg-surface-elevated: var(--bg-2);
    --bg-surface-hover: var(--bg-2);
    --bg-subtle: var(--bg-2);
    --bg-card: var(--bg-1);
    --bg-card-hover: var(--bg-2);
    
    /* === ACCENT GRADIENTS (Primary) === */
    --gradient-primary: linear-gradient(135deg, #8B5CF6 0%, #EC4899 100%);
    --gradient-primary-hover: linear-gradient(135deg, #A78BFA 0%, #F472B6 100%);
    --gradient-primary-soft: linear-gradient(135deg, rgba(139, 92, 246, 0.25) 0%, rgba(236, 72, 153, 0.25) 100%);
    
    /* === ACCENT COLORS - Enhanced Brightness === */
    --accent-primary: #8B5CF6;
    --accent-primary-hover: #A78BFA;
    --accent-secondary: #7C3AED;
    --accent-tertiary: #38BDF8;
    --accent-pink: #EC4899;
    --accent-pink-hover: #F472B6;
    
    /* Tab/Filter accent colors with improved opacity */
    --accent-indigo: #6366f1;
    --accent-purple: #a855f7;
    --accent-orange: #f97316;
    --accent-emerald: #10b981;
    
    /* Active state backgrounds - increased from 20% to 30% */
    --accent-indigo-bg: rgba(99, 102, 241, 0.30);
    --accent-purple-bg: rgba(168, 85, 247, 0.30);
    --accent-orange-bg: rgba(249, 115, 22, 0.30);
    --accent-emerald-bg: rgba(16, 185, 129, 0.30);
    
    /* Active state borders - increased from 40% to 55% */
    --accent-indigo-border: rgba(99, 102, 241, 0.55);
    --accent-purple-border: rgba(168, 85, 247, 0.55);
    --accent-orange-border: rgba(249, 115, 22, 0.55);
    --accent-emerald-border: rgba(16, 185, 129, 0.55);
    
    /* === TEXT COLORS - 3-Level Hierarchy (Enhanced Contrast) === */
    --text-primary: #f8fafc;    /* slate-50 - Headlines, important text */
    --text-secondary: #e2e8f0;  /* slate-200 - Body text, descriptions */
    --text-muted: #a1afc4;      /* Enhanced - Labels, hints */
    --text-subtle: #718096;     /* Enhanced - Disabled, placeholders */
    --text-disabled: #4a5568;   /* slate-600 - Truly disabled */
    
    /* === BORDER COLORS - Enhanced Visibility === */
    --border-subtle: rgba(148, 163, 184, 0.15);
    --border-default: rgba(148, 163, 184, 0.25);
    --border-strong: rgba(148, 163, 184, 0.40);
    --border-accent: rgba(139, 92, 246, 0.55);

    /* === STATUS COLORS - Vibrant === */
    --color-success: #4ADE80;
    --color-success-soft: rgba(74, 222, 128, 0.18);
    --color-success-border: rgba(74, 222, 128, 0.45);
    --color-warning: #FBBF24;
    --color-warning-soft: rgba(251, 191, 36, 0.18);
    --color-warning-border: rgba(251, 191, 36, 0.45);
    --color-danger: #F87171;
    --color-danger-soft: rgba(248, 113, 113, 0.18);
    --color-danger-border: rgba(248, 113, 113, 0.45);
    --color-info: #38BDF8;
    --color-info-soft: rgba(56, 189, 248, 0.18);
    --color-info-border: rgba(56, 189, 248, 0.45);
    
    /* === SHADOWS - Enhanced Depth === */
    --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.30);
    --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.35);
    --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.45);
    --shadow-xl: 0 16px 48px rgba(0, 0, 0, 0.55);
    --shadow-glow-primary: 0 0 24px rgba(139, 92, 246, 0.35);
    --shadow-glow-pink: 0 0 24px rgba(236, 72, 153, 0.35);
    --shadow-glow-accent: 0 4px 20px rgba(139, 92, 246, 0.30);
    --shadow-glow-indigo: 0 4px 15px -3px rgba(99, 102, 241, 0.45);
    --shadow-glow-emerald: 0 4px 15px -3px rgba(16, 185, 129, 0.45);
    --shadow-glow-orange: 0 4px 15px -3px rgba(249, 115, 22, 0.45);
    
    /* === RADIUS === */
    --radius-sm: 6px;
    --radius-md: 10px;
    --radius-lg: 12px;
    --radius-xl: 14px;
    --radius-2xl: 16px;
    --radius-full: 9999px;
    
    /* === SPACING === */
    --space-1: 4px;
    --space-2: 8px;
    --space-3: 12px;
    --space-4: 16px;
    --space-5: 20px;
    --space-6: 24px;
    --space-8: 32px;
    
    /* === TYPOGRAPHY === */
    --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    --font-mono: 'JetBrains Mono', 'Fira Code', 'Consolas', monospace;
    --font-size-xs: 11px;
    --font-size-sm: 13px;
    --font-size-md: 14px;
    --font-size-lg: 16px;
    --font-size-xl: 18px;
    --font-size-2xl: 20px;
    --font-size-3xl: 24px;
    --font-weight-normal: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;
    
    /* === TRANSITIONS === */
    --transition-fast: 150ms ease-out;
    --transition-normal: 200ms ease-out;
    --transition-slow: 300ms ease-out;
    --ease-out: cubic-bezier(0.4, 0, 0.2, 1);
    --ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
    
    /* === LAYOUT === */
    --app-header-height: 48px;
    --app-sidebar-width: 320px;
    --app-sidebar-min-width: 280px;
    --app-panel-max-width: 480px;
    
    /* === Z-INDEX === */
    --z-dropdown: 100;
    --z-sticky: 200;
    --z-modal-backdrop: 400;
    --z-modal: 500;
    --z-tooltip: 600;
    --z-toast: 700;
}


/* ============================================
   BUTTON COMPONENTS
   ============================================ */

/* Base Button */
.btn {
    @apply inline-flex items-center justify-center gap-2 px-4 py-2;
    @apply text-sm font-medium rounded-xl;
    @apply transition-all duration-200;
    @apply focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-gray-900;
    @apply disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none;
}

.btn:active:not(:disabled) {
    transform: scale(0.98);
}

/* Primary Button - Gradient with enhanced glow */
.btn-primary {
    background: var(--gradient-primary);
    @apply text-white font-semibold;
    box-shadow: var(--shadow-glow-accent);
    transition: all 150ms ease-out;
}

.btn-primary:hover:not(:disabled) {
    background: var(--gradient-primary-hover);
    box-shadow: 0 6px 28px rgba(139, 92, 246, 0.5);
    transform: translateY(-2px) scale(1.02);
}

.btn-primary:active:not(:disabled) {
    transform: translateY(0) scale(0.98);
    transition-duration: 50ms;
}

/* Secondary Button - Enhanced contrast */
.btn-secondary {
    background: var(--bg-2);
    color: var(--text-primary);
    border: 1px solid var(--border-default);
    @apply font-medium;
    transition: all 150ms ease-out;
}

.btn-secondary:hover:not(:disabled) {
    background: var(--bg-3);
    border-color: var(--border-strong);
    @apply text-white;
    transform: translateY(-1px);
    box-shadow: var(--shadow-sm);
}

/* Ghost Button - Subtle but visible */
.btn-ghost {
    @apply bg-transparent font-medium;
    color: var(--text-secondary);
    border: 1px solid transparent;
    transition: all 150ms ease-out;
}

.btn-ghost:hover:not(:disabled) {
    background: var(--bg-2);
    color: var(--text-primary);
    border-color: var(--border-subtle);
}

/* Success Button */
.btn-success {
    @apply bg-emerald-500/20 text-emerald-300 border border-emerald-500/30;
}

.btn-success:hover:not(:disabled) {
    @apply bg-emerald-500/30 border-emerald-400/50;
    box-shadow: 0 4px 16px rgba(74, 222, 128, 0.2);
}

/* Danger Button */
.btn-danger {
    @apply bg-red-500/20 text-red-300 border border-red-500/30;
}

.btn-danger:hover:not(:disabled) {
    @apply bg-red-500/30 border-red-400/50;
    box-shadow: 0 4px 16px rgba(248, 113, 113, 0.2);
}

/* Button Sizes */
.btn-sm { @apply px-3 py-1.5 text-xs; }
.btn-lg { @apply px-6 py-3 text-base; }
.btn-icon { @apply p-2; }


/* ============================================
   HERO BUTTON (CTA)
   ============================================ */

.btn-hero {
    @apply px-6 py-3 text-base font-semibold rounded-xl;
    @apply text-white;
    background: var(--gradient-primary);
    box-shadow: var(--shadow-glow-accent);
    transition: all 0.2s ease-out;
}

.btn-hero:hover:not(:disabled) {
    background: var(--gradient-primary-hover);
    box-shadow: 0 8px 32px rgba(139, 92, 246, 0.5), 0 0 48px rgba(236, 72, 153, 0.2);
    transform: translateY(-3px) scale(1.03);
}

.btn-hero:active:not(:disabled) {
    transform: translateY(-1px) scale(1.01);
}

/* ============================================
   CARD COMPONENTS
   ============================================ */

.card {
    background: var(--bg-1);
    border: 1px solid var(--border-subtle);
    border-radius: var(--radius-xl);
    transition: all 150ms ease-out;
}

.card-hover:hover {
    background: var(--bg-2);
    border-color: var(--border-default);
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

.card-interactive {
    cursor: pointer;
}

.card-interactive:hover {
    border-color: var(--accent-indigo-border);
    box-shadow: 0 0 0 1px var(--accent-indigo-border), var(--shadow-glow-indigo);
}

/* ============================================
   PANEL COMPONENTS
   ============================================ */

.panel {
    background: var(--bg-1);
    border: 1px solid var(--border-default);
    border-radius: var(--radius-lg);
}

.panel-header {
    @apply flex items-center justify-between px-4 py-3;
    border-bottom: 1px solid var(--border-default);
    background: var(--bg-1);
}

.panel-header-unified {
    @apply flex items-center justify-between px-3 py-2.5;
    border-bottom: 1px solid var(--border-subtle);
    background: rgba(11, 16, 32, 0.5);
}

.panel-header-unified-title {
    @apply flex items-center gap-2 text-sm font-semibold text-white;
}

.panel-header-unified-icon {
    @apply w-8 h-8 rounded-lg flex items-center justify-center;
}

.panel-header-unified-icon svg {
    @apply w-4 h-4;
}

.panel-header-unified-icon-primary {
    background: rgba(139, 92, 246, 0.25);
}

.panel-header-unified-icon-primary svg {
    @apply text-purple-300;
}


/* ============================================
   TAB COMPONENTS
   ============================================ */

.tabs-unified {
    @apply flex gap-1 p-1.5 bg-gray-800/30 rounded-xl border border-gray-700/30;
}

.tab-unified {
    @apply flex items-center justify-center gap-2 px-3 py-2;
    @apply text-sm font-medium rounded-lg;
    @apply text-gray-400 transition-all duration-200;
}

.tab-unified:hover:not(.tab-unified-active) {
    @apply text-gray-200 bg-gray-700/40;
}

.tab-unified-active {
    @apply text-white bg-gray-700/60;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

/* Tab Color Variants - Enhanced contrast */
.tab-btn-active-indigo {
    background: var(--accent-indigo-bg);
    border: 1px solid var(--accent-indigo-border);
    @apply text-white font-semibold;
    box-shadow: inset 0 0 0 1px var(--accent-indigo-border), var(--shadow-glow-indigo);
}

.tab-btn-active-purple {
    background: var(--accent-purple-bg);
    border: 1px solid var(--accent-purple-border);
    @apply text-white font-semibold;
    box-shadow: inset 0 0 0 1px var(--accent-purple-border), 0 4px 15px -3px rgba(168, 85, 247, 0.45);
}

.tab-btn-active-orange {
    background: var(--accent-orange-bg);
    border: 1px solid var(--accent-orange-border);
    @apply text-white font-semibold;
    box-shadow: inset 0 0 0 1px var(--accent-orange-border), var(--shadow-glow-orange);
}

.tab-btn-active-emerald {
    background: var(--accent-emerald-bg);
    border: 1px solid var(--accent-emerald-border);
    @apply text-white font-semibold;
    box-shadow: inset 0 0 0 1px var(--accent-emerald-border), var(--shadow-glow-emerald);
}

.tab-btn {
    @apply flex-1 px-3 py-2 text-sm font-medium rounded-lg;
    @apply flex items-center justify-center gap-2;
    transition: all 150ms ease-out;
}

.tab-btn-inactive {
    color: var(--text-muted);
    border: 1px solid transparent;
}

.tab-btn-inactive:hover {
    color: var(--text-primary);
    background: var(--bg-2);
    border-color: var(--border-subtle);
}

/* ============================================
   INPUT COMPONENTS
   ============================================ */

.input {
    @apply w-full px-3 py-2.5 text-sm rounded-xl;
    background: var(--bg-1);
    border: 1px solid var(--border-default);
    color: var(--text-primary);
    transition: all 150ms ease-out;
}

.input::placeholder {
    color: var(--text-subtle);
}

.input:hover:not(:focus) {
    background: var(--bg-2);
    border-color: var(--border-strong);
}

.input:focus {
    @apply outline-none;
    background: var(--bg-2);
    border-color: var(--accent-indigo);
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.15);
    transform: scale(1.01);
}

.input-with-icon {
    @apply pl-10;
}

/* Input sizes */
.input-xs {
    @apply py-1.5 text-xs;
}

.input-sm {
    @apply py-2 text-xs;
}

.input-md {
    @apply py-2.5 text-sm;
}

.search-input {
    @apply w-full px-3 py-2.5 pl-10 text-sm rounded-xl;
    background: var(--bg-2);
    border: 1px solid var(--border-strong);
    color: var(--text-primary);
    transition: all 150ms ease-out;
}

.search-input::placeholder {
    color: var(--text-muted);
}

.search-input:focus {
    @apply outline-none;
    background: var(--bg-2);
    border-color: var(--accent-indigo);
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.15);
}

.textarea {
    @apply w-full px-4 py-3 text-sm font-mono;
    @apply rounded-xl resize-none;
    background: var(--bg-1);
    border: 1px solid var(--border-default);
    color: var(--text-primary);
    transition: all 150ms ease-out;
}

.textarea::placeholder {
    color: var(--text-subtle);
}

/* Textarea sizes */
.textarea-sm {
    @apply py-2 text-xs;
}

.textarea:focus {
    @apply outline-none;
    background: var(--bg-2);
    border-color: var(--accent-indigo);
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.15);
}


/* ============================================
   CHIP / BADGE COMPONENTS
   ============================================ */

.chip-unified {
    @apply inline-flex items-center gap-1.5 px-2.5 py-1;
    @apply text-xs font-semibold rounded-full;
    transition: all 150ms ease-out;
}

.chip-unified-default {
    background: var(--bg-2);
    color: var(--text-secondary);
    border: 1px solid var(--border-default);
}

.chip-unified-default:hover {
    background: var(--bg-3);
    border-color: var(--border-strong);
    color: var(--text-primary);
}

.chip-unified-active {
    background: var(--accent-purple-bg);
    color: white;
    border: 1px solid var(--accent-purple-border);
    box-shadow: 0 0 12px rgba(139, 92, 246, 0.3);
}

.chip-unified-accent {
    background: var(--accent-indigo-bg);
    color: white;
    border: 1px solid var(--accent-indigo-border);
}

.badge {
    @apply inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold;
}

.badge-primary {
    background: var(--accent-purple-bg);
    color: white;
    border: 1px solid var(--accent-purple-border);
}

.badge-success {
    background: var(--color-success-soft);
    color: var(--color-success);
    border: 1px solid var(--color-success-border);
}

.badge-warning {
    background: var(--color-warning-soft);
    color: var(--color-warning);
    border: 1px solid var(--color-warning-border);
}

.badge-danger {
    background: var(--color-danger-soft);
    color: var(--color-danger);
    border: 1px solid var(--color-danger-border);
}

/* ============================================
   ICON BUTTON
   ============================================ */

.icon-btn {
    @apply p-1.5 rounded-lg;
    color: var(--text-muted);
    transition: all 150ms ease-out;
}

.icon-btn:hover {
    color: var(--text-primary);
    background: var(--bg-2);
}

.icon-btn-sm {
    @apply p-1 rounded-md;
}

.icon-btn-danger:hover {
    color: var(--color-danger);
    background: var(--color-danger-soft);
}

.icon-btn-success:hover {
    color: var(--color-success);
    background: var(--color-success-soft);
}

.icon-btn-primary:hover {
    color: var(--accent-primary);
    background: var(--accent-purple-bg);
}

/* ============================================
   LIST ITEM
   ============================================ */

.list-item {
    @apply p-3 rounded-xl;
    background: var(--bg-1);
    border: 1px solid var(--border-subtle);
    transition: all 150ms ease-out;
}

.list-item:hover {
    background: var(--bg-2);
    border-color: var(--border-default);
    transform: translateX(2px);
}

.list-item-active {
    background: var(--accent-purple-bg);
    border-color: var(--accent-purple-border);
}


/* ============================================
   EMPTY STATE
   ============================================ */

.empty-state {
    @apply flex flex-col items-center justify-center p-8 text-center;
}

.empty-state-icon {
    @apply w-20 h-20 mx-auto mb-4 rounded-2xl;
    @apply flex items-center justify-center;
    background: var(--bg-2);
    border: 1px solid var(--border-default);
}

.empty-state-icon svg {
    @apply w-10 h-10;
    color: var(--text-subtle);
}

.empty-state-icon-gradient {
    background: var(--gradient-primary-soft);
    border-color: rgba(139, 92, 246, 0.4);
}

.empty-state-icon-gradient svg {
    color: var(--accent-primary);
}

.empty-state-title {
    @apply text-lg font-semibold mb-2;
    color: var(--text-primary);
}

.empty-state-text {
    @apply text-sm;
    color: var(--text-muted);
    max-width: 320px;
}

/* ============================================
   SECTION HEADER
   ============================================ */

.section-header {
    @apply flex items-center justify-between px-3 py-2.5;
    border-bottom: 1px solid var(--border-subtle);
}

.section-title {
    @apply flex items-center gap-2;
}

.section-title-text {
    @apply text-sm font-semibold text-white;
}

.section-icon {
    @apply w-8 h-8 rounded-lg flex items-center justify-center;
}

.section-icon svg {
    @apply w-4 h-4;
}

.section-icon-indigo {
    background: var(--accent-indigo-bg);
}
.section-icon-indigo svg { color: #a5b4fc; }

.section-icon-purple {
    background: var(--accent-purple-bg);
}
.section-icon-purple svg { color: #d8b4fe; }

.section-icon-emerald {
    background: var(--accent-emerald-bg);
}
.section-icon-emerald svg { color: #6ee7b7; }

.section-icon-orange {
    background: var(--accent-orange-bg);
}
.section-icon-orange svg { color: #fdba74; }

.section-icon-pink {
    background: rgba(236, 72, 153, 0.30);
}
.section-icon-pink svg { color: #f9a8d4; }

/* ============================================
   STATS COMPONENTS
   ============================================ */

.stats-grid {
    @apply grid grid-cols-2 gap-3;
}

.stat-card {
    @apply text-center p-3 rounded-xl;
    background: var(--bg-1);
    border: 1px solid var(--border-default);
    transition: all 150ms ease-out;
}

.stat-card:hover {
    background: var(--bg-2);
    border-color: var(--border-strong);
}

.stat-card-value {
    @apply text-xl font-bold;
    color: var(--text-primary);
}

.stat-card-label {
    @apply text-xs mt-1;
    color: var(--text-muted);
}

.context-stats {
    @apply p-4 rounded-xl;
    background: var(--bg-1);
    border: 1px solid var(--border-default);
}


/* ============================================
   TOAST NOTIFICATIONS
   ============================================ */

.toast {
    @apply flex items-center gap-3 px-4 py-3;
    @apply rounded-xl backdrop-blur-md;
    @apply min-w-[280px] max-w-md;
    box-shadow: var(--shadow-xl);
}

.toast-success {
    background: rgba(6, 78, 59, 0.95);
    border: 1px solid var(--color-success-border);
    color: var(--color-success);
}

.toast-error {
    background: rgba(127, 29, 29, 0.95);
    border: 1px solid var(--color-danger-border);
    color: var(--color-danger);
}

.toast-warning {
    background: rgba(120, 53, 15, 0.95);
    border: 1px solid var(--color-warning-border);
    color: var(--color-warning);
}

.toast-info {
    background: var(--bg-2);
    border: 1px solid var(--color-info-border);
    color: var(--text-primary);
}

.toast-icon { @apply w-5 h-5 flex-shrink-0; }
.toast-icon-success { @apply text-emerald-400; }
.toast-icon-error { @apply text-red-400; }
.toast-icon-warning { @apply text-amber-400; }
.toast-icon-info { @apply text-blue-400; }

.toast-message { @apply text-sm font-medium flex-1; }

.toast-close {
    @apply p-1 rounded-lg hover:bg-white/10 transition-colors;
}

/* ============================================
   MODAL COMPONENTS
   ============================================ */

.modal-overlay {
    @apply fixed inset-0 bg-black/60 backdrop-blur-sm;
    z-index: var(--z-modal-backdrop);
}

.modal-container {
    @apply fixed inset-0 flex items-center justify-center p-4;
    z-index: var(--z-modal);
}

.modal-content {
    @apply w-full max-w-lg p-6 rounded-2xl;
    background: var(--bg-1);
    border: 1px solid var(--border-default);
    box-shadow: var(--shadow-xl);
}

.modal-title {
    @apply text-lg font-semibold mb-2;
    color: var(--text-primary);
}

.modal-text {
    @apply text-sm mb-4;
    color: var(--text-muted);
}

/* ============================================
   LOADING STATES
   ============================================ */

.loading-overlay {
    @apply fixed inset-0 flex items-center justify-center;
    @apply bg-black/60 backdrop-blur-sm;
    z-index: var(--z-modal);
}

.loading-card {
    @apply p-8 rounded-2xl text-center;
    background: var(--bg-1);
    border: 1px solid var(--border-default);
}

.loading-spinner {
    @apply animate-spin w-8 h-8;
    color: var(--accent-primary);
}

.loading-title {
    @apply text-lg font-semibold mt-4 mb-2;
    color: var(--text-primary);
}

.loading-text {
    @apply text-sm;
    color: var(--text-muted);
}

/* Skeleton Loading */
.skeleton {
    @apply rounded-lg;
    background: linear-gradient(
        90deg,
        rgba(55, 65, 81, 0.4) 0%,
        rgba(75, 85, 99, 0.4) 50%,
        rgba(55, 65, 81, 0.4) 100%
    );
    background-size: 200% 100%;
    animation: skeleton-shimmer 1.5s ease-in-out infinite;
}

@keyframes skeleton-shimmer {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
}


/* ============================================
   TREE VIEW COMPONENTS
   ============================================ */

.tree-item {
    @apply flex items-center gap-2 px-2 py-1.5 rounded-lg;
    @apply cursor-pointer;
    color: var(--text-secondary);
    transition: all 150ms ease-out;
}

.tree-item:hover {
    background: var(--bg-2);
    color: var(--text-primary);
    transform: translateX(2px);
}

.tree-item-selected {
    background: var(--accent-indigo-bg);
    color: white;
    border-left: 2px solid var(--accent-indigo);
    box-shadow: inset 0 0 0 1px var(--accent-indigo-border);
}

.tree-checkbox {
    @apply flex-shrink-0 w-4 h-4 rounded;
    border: 2px solid var(--border-strong);
    @apply flex items-center justify-center;
    transition: all 150ms ease-out;
}

.tree-checkbox:hover {
    border-color: var(--text-muted);
    background: var(--bg-2);
}

.tree-checkbox-checked {
    background: var(--accent-indigo);
    border-color: var(--accent-indigo);
}

.tree-name {
    @apply flex-1 truncate text-sm;
}

.tree-count {
    @apply text-xs;
    color: var(--text-subtle);
}

/* ============================================
   INFO BOX
   ============================================ */

.info-box {
    @apply p-4 rounded-xl;
    background: var(--bg-1);
    border: 1px solid var(--border-default);
}

.info-box-primary {
    background: var(--accent-purple-bg);
    border-color: var(--accent-purple-border);
}

.info-box-warning {
    background: var(--color-warning-soft);
    border-color: var(--color-warning-border);
}

.info-box-danger {
    background: var(--color-danger-soft);
    border-color: var(--color-danger-border);
}

/* ============================================
   SCROLLBAR STYLING
   ============================================ */

.scrollable-y {
    @apply overflow-y-auto overflow-x-hidden;
}

.scrollable-x {
    @apply overflow-x-auto overflow-y-hidden;
}

/* Custom scrollbar - Enhanced visibility */
.scrollable-y::-webkit-scrollbar,
.scrollable-x::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}

.scrollable-y::-webkit-scrollbar-track,
.scrollable-x::-webkit-scrollbar-track {
    background: var(--bg-1);
    border-radius: 3px;
}

.scrollable-y::-webkit-scrollbar-thumb,
.scrollable-x::-webkit-scrollbar-thumb {
    background: rgba(148, 163, 184, 0.35);
    border-radius: 3px;
    transition: background 150ms ease-out;
}

.scrollable-y::-webkit-scrollbar-thumb:hover,
.scrollable-x::-webkit-scrollbar-thumb:hover {
    background: rgba(148, 163, 184, 0.55);
}

/* ============================================
   ACTION BUTTONS (ActionBar)
   ============================================ */

.action-btn {
    @apply px-4 py-2 text-sm font-medium rounded-xl;
    @apply flex items-center gap-2 justify-center;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
    transition: all 150ms ease-out;
}

.action-btn-primary {
    background: var(--gradient-primary);
    @apply text-white font-semibold;
    box-shadow: 0 4px 14px rgba(139, 92, 246, 0.30);
}

.action-btn-primary:hover:not(:disabled) {
    box-shadow: 0 6px 24px rgba(139, 92, 246, 0.45);
    transform: translateY(-1px) scale(1.02);
}

.action-btn-primary:active:not(:disabled) {
    transform: translateY(0) scale(0.98);
    transition-duration: 50ms;
}

.action-btn-hero {
    @apply px-5 py-2.5 text-sm font-semibold rounded-xl;
    @apply text-white;
    background: var(--gradient-primary);
    box-shadow: var(--shadow-glow-accent);
}

.action-btn-hero:hover:not(:disabled) {
    background: var(--gradient-primary-hover);
    box-shadow: 0 8px 32px rgba(139, 92, 246, 0.55);
    transform: translateY(-2px) scale(1.02);
}

.action-btn-hero:active:not(:disabled) {
    transform: translateY(0) scale(0.98);
    transition-duration: 50ms;
}

.action-btn-success {
    background: var(--color-success-soft);
    color: var(--color-success);
    border: 1px solid var(--color-success-border);
}

.action-btn-danger {
    background: var(--color-danger-soft);
    color: var(--color-danger);
    border: 1px solid var(--color-danger-border);
}


/* ============================================
   TOOL BUTTONS (Sidebar)
   ============================================ */

.tool-btn {
    @apply w-full px-4 py-3 text-sm font-medium rounded-xl;
    @apply flex items-center gap-3 text-left;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
    transition: all 150ms ease-out;
}

.tool-btn-default {
    background: var(--bg-1);
    border: 1px solid var(--border-default);
    color: var(--text-primary);
}

.tool-btn-default:hover:not(:disabled) {
    background: var(--bg-2);
    border-color: var(--border-strong);
    transform: translateX(2px);
    box-shadow: var(--shadow-sm);
}

.tool-btn-icon {
    @apply w-9 h-9 rounded-lg flex items-center justify-center flex-shrink-0;
}

.tool-btn-icon svg {
    @apply w-4 h-4;
}

.tool-btn-icon-indigo { background: var(--accent-indigo-bg); }
.tool-btn-icon-indigo svg { color: #a5b4fc; }

.tool-btn-icon-emerald { background: var(--accent-emerald-bg); }
.tool-btn-icon-emerald svg { color: #6ee7b7; }

.tool-btn-icon-red { background: var(--color-danger-soft); }
.tool-btn-icon-red svg { color: var(--color-danger); }

.tool-btn-icon-purple { background: var(--accent-purple-bg); }
.tool-btn-icon-purple svg { color: #d8b4fe; }

/* ============================================
   TOGGLE / SWITCH
   ============================================ */

.toggle-wrapper {
    @apply relative inline-flex items-center cursor-pointer;
}

.toggle-track {
    @apply w-10 h-6 rounded-full;
    background: var(--bg-3);
    transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
}

.toggle-track:hover {
    background: rgba(148, 163, 184, 0.35);
}

.toggle-track-active {
    background: var(--accent-indigo);
    box-shadow: 0 0 12px rgba(99, 102, 241, 0.4);
}

.toggle-track-active:hover {
    background: rgba(99, 102, 241, 0.85);
}

.toggle-thumb {
    @apply absolute left-1 top-1 w-4 h-4 rounded-full;
    @apply bg-white;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    transition: transform 200ms cubic-bezier(0.4, 0, 0.2, 1);
}

.toggle-thumb-active {
    transform: translateX(16px);
}

/* ============================================
   DIVIDERS
   ============================================ */

.divider {
    @apply w-px h-4 bg-gray-700;
}

.divider-horizontal {
    @apply h-px w-full bg-gray-700/50;
}

/* ============================================
   CONTEXT CONTENT
   ============================================ */

.context-content {
    user-select: text;
    cursor: text;
}

.context-line {
    transition: background-color 150ms ease-out;
}

.context-line:hover {
    background: var(--bg-2);
}

/* ============================================
   GIT COMPONENTS
   ============================================ */

.git-branch-item {
    @apply w-full px-3 py-2 text-left text-sm rounded-lg;
    @apply flex items-center gap-2;
    color: var(--text-secondary);
    transition: all 150ms ease-out;
}

.git-branch-item:hover {
    background: var(--bg-2);
    color: var(--text-primary);
}

.git-branch-item-selected {
    background: var(--accent-purple-bg);
    color: white;
    border: 1px solid var(--accent-purple-border);
}

.git-branch-item-current {
    background: var(--accent-emerald-bg);
    color: white;
    border: 1px solid var(--accent-emerald-border);
}

.git-commit-hash {
    @apply text-xs text-amber-300 font-mono;
}

.git-diff-added { 
    background: var(--color-success-soft); 
    color: var(--color-success); 
}
.git-diff-deleted { 
    background: var(--color-danger-soft); 
    color: var(--color-danger); 
}
.git-diff-modified { 
    background: var(--color-warning-soft); 
    color: var(--color-warning); 
}


/* ============================================
   UNIFIED BUTTON SYSTEM
   ============================================ */

.btn-unified {
    @apply inline-flex items-center justify-center gap-2;
    @apply px-3 py-2 text-sm font-medium rounded-xl;
    @apply transition-all duration-200;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
}

.btn-unified-primary {
    background: var(--gradient-primary);
    @apply text-white;
    box-shadow: 0 4px 14px rgba(139, 92, 246, 0.25);
}

.btn-unified-primary:hover:not(:disabled) {
    box-shadow: 0 6px 20px rgba(139, 92, 246, 0.35);
    transform: translateY(-1px);
}

.btn-unified-secondary {
    background: var(--bg-2);
    color: var(--text-secondary);
    border: 1px solid var(--border-default);
}

.btn-unified-secondary:hover:not(:disabled) {
    background: var(--bg-3);
    color: var(--text-primary);
    border-color: var(--border-strong);
}

.btn-unified-ghost {
    @apply bg-transparent;
    color: var(--text-muted);
    border: 1px solid transparent;
}

.btn-unified-ghost:hover:not(:disabled) {
    background: var(--bg-2);
    color: var(--text-primary);
}

.btn-unified-success {
    background: var(--color-success-soft);
    color: var(--color-success);
    border: 1px solid var(--color-success-border);
}

.btn-unified-success:hover:not(:disabled) {
    background: rgba(74, 222, 128, 0.25);
    border-color: rgba(74, 222, 128, 0.55);
}

.btn-unified-warning {
    background: var(--color-warning-soft);
    color: var(--color-warning);
    border: 1px solid var(--color-warning-border);
}

.btn-unified-warning:hover:not(:disabled) {
    background: rgba(251, 191, 36, 0.25);
    border-color: rgba(251, 191, 36, 0.55);
}

.btn-unified-danger {
    background: var(--color-danger-soft);
    color: var(--color-danger);
    border: 1px solid var(--color-danger-border);
}

.btn-unified-danger:hover:not(:disabled) {
    background: rgba(248, 113, 113, 0.25);
    border-color: rgba(248, 113, 113, 0.55);
}

/* ============================================
   INFO BOX VARIANTS
   ============================================ */

.info-box-purple {
    @apply p-4 rounded-xl;
    background: var(--accent-purple-bg);
    border: 1px solid var(--accent-purple-border);
}

.info-box-indigo {
    @apply p-4 rounded-xl;
    background: var(--accent-indigo-bg);
    border: 1px solid var(--accent-indigo-border);
}

/* ============================================
   ICON BUTTON SMALL
   ============================================ */

.icon-btn-sm {
    @apply p-1 rounded-md;
    @apply text-gray-400 hover:text-white;
    @apply hover:bg-gray-700/50;
    @apply transition-all duration-150;
}

/* ============================================
   SLIDE FADE TRANSITION
   ============================================ */

.slide-fade-enter-active {
    transition: all 0.25s ease-out;
}

.slide-fade-leave-active {
    transition: all 0.2s ease-in;
}

.slide-fade-enter-from {
    opacity: 0;
    transform: translateY(-10px);
}

.slide-fade-leave-to {
    opacity: 0;
    transform: translateY(-10px);
}


/* ============================================
   ADDITIONAL BUTTON VARIANTS
   ============================================ */

.btn-unified-icon {
    @apply p-2;
}

/* Settings Button */
.settings-btn {
    @apply flex-1 px-3 py-1.5 text-xs rounded-lg;
    @apply flex items-center justify-center gap-2;
    background: var(--bg-2);
    color: var(--text-primary);
    border: 1px solid var(--border-default);
    transition: all 150ms ease-out;
}

.settings-btn:hover {
    background: var(--bg-3);
    border-color: var(--border-strong);
}

/* Selection Indicator */
.selection-indicator {
    @apply w-full px-3 py-1.5 text-xs rounded-lg;
    @apply flex items-center justify-center gap-2;
    background: var(--accent-purple-bg);
    color: white;
    border: 1px solid var(--accent-purple-border);
    transition: all 150ms ease-out;
}

.selection-indicator:hover {
    background: rgba(168, 85, 247, 0.35);
    border-color: rgba(168, 85, 247, 0.65);
}

/* Input Icon */
.input-icon {
    @apply absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500;
}

/* ============================================
   STAT CARD VARIANTS
   ============================================ */

.stat-card-value-indigo {
    color: #a5b4fc;
}

.stat-card-value-emerald {
    color: #6ee7b7;
}

.stat-card-value-purple {
    color: #d8b4fe;
}

.stat-label {
    @apply text-xs mt-1;
    color: var(--text-muted);
}


/* ============================================
   CHIP / FILTER BUTTONS (QuickFiltersBar)
   ============================================ */

.chip {
    @apply px-4 py-1.5 text-xs font-semibold rounded-full;
    @apply flex items-center gap-2;
    transition: all 150ms ease-out;
    cursor: pointer;
}

.chip-default {
    background: var(--bg-2);
    color: var(--text-secondary);
    border: 1px solid var(--border-default);
}

.chip-default:hover {
    background: var(--bg-3);
    color: var(--text-primary);
    border-color: var(--border-strong);
    transform: translateY(-1px);
    box-shadow: var(--shadow-sm);
}

.chip-active {
    background: var(--accent-indigo-bg);
    color: white;
    border: 1px solid var(--accent-indigo-border);
    box-shadow: inset 0 0 0 1px var(--accent-indigo-border), 0 0 16px rgba(99, 102, 241, 0.35);
}

.chip-active:hover {
    background: rgba(99, 102, 241, 0.40);
    border-color: rgba(99, 102, 241, 0.70);
}

.chip-count {
    @apply px-1.5 py-0.5 rounded-full text-[10px] font-bold;
}

.chip-count-default {
    background: var(--bg-3);
    color: var(--text-muted);
}

.chip-count-active {
    background: rgba(255, 255, 255, 0.25);
    color: white;
}

/* ============================================
   TREE ITEM (FileTreeNode)
   ============================================ */

.tree-item-unified {
    @apply flex items-center gap-2 px-2 py-1.5 rounded-lg;
    @apply cursor-pointer;
    color: var(--text-secondary);
    transition: all 150ms ease-out;
}

.tree-item-unified:hover {
    background: var(--bg-2);
    color: var(--text-primary);
    transform: translateX(2px);
}

.tree-item-unified-selected {
    background: var(--accent-indigo-bg);
    color: white;
    border-left: 2px solid var(--accent-indigo);
    box-shadow: inset 0 0 0 1px var(--accent-indigo-border);
}

.tree-checkbox-unified {
    @apply flex-shrink-0 w-4 h-4 rounded;
    border: 2px solid var(--border-strong);
    background: transparent;
    @apply flex items-center justify-center;
    transition: all 150ms ease-out;
    cursor: pointer;
}

.tree-checkbox-unified:hover {
    border-color: var(--text-muted);
    background: var(--bg-2);
}

.tree-checkbox-unified-checked {
    background: var(--accent-indigo);
    border-color: var(--accent-indigo);
    box-shadow: 0 0 8px rgba(99, 102, 241, 0.4);
}

/* ============================================
   IGNORED FILE STYLING
   ============================================ */

.ignored-file {
    opacity: 0.5;
    transition: opacity 150ms ease-out;
}

.ignored-file:hover {
    opacity: 0.7;
}

/* ============================================
   TOOLTIP ANIMATION
   ============================================ */

.animate-tooltip-in {
    animation: tooltip-fade-in 0.2s ease-out forwards;
}

@keyframes tooltip-fade-in {
    from {
        opacity: 0;
        transform: translateX(-50%) translateY(4px);
    }
    to {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
    }
}

/* ============================================
   MODAL OVERLAY (for filter settings)
   ============================================ */

.modal-overlay {
    @apply fixed inset-0 z-50 flex items-center justify-center;
    @apply bg-black/60 backdrop-blur-sm;
}

.modal-content {
    @apply w-full max-w-lg mx-4 rounded-2xl;
    @apply bg-gray-800 border border-gray-700/50;
    @apply shadow-2xl;
}

/* ============================================
   ICON BUTTON SMALL VARIANTS
   ============================================ */

.icon-btn-sm {
    @apply p-1 rounded-md;
    @apply flex items-center justify-center;
    color: var(--text-muted);
    transition: all 150ms ease-out;
}

.icon-btn-sm:hover {
    color: var(--text-primary);
    background: var(--bg-2);
}

.icon-btn-sm.icon-btn-danger:hover {
    color: var(--color-danger);
    background: var(--color-danger-soft);
}

/* ============================================
   SECTION HEADER (for modals)
   ============================================ */

.section-header {
    @apply flex items-center justify-between px-4 py-3;
    @apply border-b border-gray-700/50;
}

.section-title-text {
    @apply text-sm font-semibold text-white;
}

/* ============================================
   ICON BUTTON BASE
   ============================================ */

.icon-btn {
    @apply p-1.5 rounded-lg;
    color: var(--text-muted);
    transition: all 150ms ease-out;
}

.icon-btn:hover {
    color: var(--text-primary);
    background: var(--bg-2);
}


/* ============================================
   CHAT MODE TABS (Sliding Indicator)
   ============================================ */

.chat-mode-tabs {
    @apply relative flex items-center gap-1 p-1 rounded-xl;
    background: rgba(31, 41, 55, 0.5);
    border: 1px solid var(--border-subtle);
}

.chat-mode-indicator {
    @apply absolute top-1 bottom-1 rounded-lg;
    width: calc(33.333% - 4px);
    left: 4px;
    transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1),
                background 200ms ease-out,
                box-shadow 200ms ease-out;
    z-index: 0;
}

.chat-mode-indicator-indigo {
    background: rgba(99, 102, 241, 0.25);
    border: 1px solid rgba(99, 102, 241, 0.4);
    box-shadow: 0 0 12px rgba(99, 102, 241, 0.3);
}

.chat-mode-indicator-purple {
    background: rgba(168, 85, 247, 0.25);
    border: 1px solid rgba(168, 85, 247, 0.4);
    box-shadow: 0 0 12px rgba(168, 85, 247, 0.3);
}

.chat-mode-indicator-emerald {
    background: rgba(16, 185, 129, 0.25);
    border: 1px solid rgba(16, 185, 129, 0.4);
    box-shadow: 0 0 12px rgba(16, 185, 129, 0.3);
}

.chat-mode-tab {
    @apply flex-1 flex items-center justify-center gap-1;
    @apply px-2 py-1.5 rounded-lg;
    @apply text-[11px] font-medium;
    @apply relative z-10;
    color: var(--text-muted);
    transition: color 150ms ease-out, transform 100ms ease-out;
}

.chat-mode-tab:hover:not(.chat-mode-tab-active) {
    color: var(--text-secondary);
}

.chat-mode-tab:active {
    transform: scale(0.97);
}

.chat-mode-tab-active {
    @apply font-semibold;
}

/* ============================================
   ENHANCED EMPTY STATE
   ============================================ */

.empty-state-enhanced {
    @apply flex flex-col items-center justify-center p-8 text-center;
    background: linear-gradient(180deg, transparent 0%, rgba(139, 92, 246, 0.03) 100%);
}

.empty-state-icon-glow {
    @apply w-20 h-20 mx-auto mb-4 rounded-2xl;
    @apply flex items-center justify-center;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.15) 0%, rgba(99, 102, 241, 0.15) 100%);
    border: 1px solid rgba(139, 92, 246, 0.3);
    box-shadow: 0 0 30px rgba(139, 92, 246, 0.15);
    animation: emptyStateGlow 3s ease-in-out infinite;
}

@keyframes emptyStateGlow {
    0%, 100% {
        box-shadow: 0 0 30px rgba(139, 92, 246, 0.15);
    }
    50% {
        box-shadow: 0 0 40px rgba(139, 92, 246, 0.25);
    }
}

/* ============================================
   ENHANCED MESSAGE BUBBLES
   ============================================ */

.message-user {
    @apply ml-auto rounded-xl p-3 max-w-[95%];
    background: rgba(99, 102, 241, 0.15);
    border: 1px solid rgba(99, 102, 241, 0.3);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

.message-assistant {
    @apply rounded-xl p-3 max-w-[95%];
    background: rgba(31, 41, 55, 0.6);
    border: 1px solid var(--border-default);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.message-avatar {
    @apply w-7 h-7 rounded-full flex items-center justify-center flex-shrink-0;
    background: linear-gradient(135deg, rgba(168, 85, 247, 0.3) 0%, rgba(139, 92, 246, 0.3) 100%);
    border: 1px solid rgba(168, 85, 247, 0.4);
}

/* ============================================
   ENHANCED INPUT FOCUS
   ============================================ */

.input-chat {
    @apply w-full px-3 py-2 text-sm rounded-xl resize-none;
    background: var(--bg-1);
    border: 1px solid var(--border-default);
    color: var(--text-primary);
    transition: all 200ms ease-out;
}

.input-chat:focus {
    @apply outline-none;
    background: var(--bg-2);
    border-color: var(--accent-purple);
    box-shadow: 0 0 0 3px rgba(168, 85, 247, 0.15), 0 0 20px rgba(168, 85, 247, 0.1);
}

/* ============================================
   QUICK ACTION BUTTONS
   ============================================ */

.quick-action-btn {
    @apply w-full p-2.5 rounded-xl text-left;
    @apply flex items-center gap-3;
    background: var(--bg-1);
    border: 1px solid var(--border-subtle);
    transition: all 150ms ease-out;
}

.quick-action-btn:hover {
    background: var(--bg-2);
    border-color: var(--border-default);
    transform: translateX(4px);
    box-shadow: var(--shadow-sm);
}

.quick-action-btn:active {
    transform: translateX(2px) scale(0.99);
}

.quick-action-icon {
    @apply text-lg;
    filter: drop-shadow(0 0 4px rgba(255, 255, 255, 0.1));
}

/* ============================================
   THINKING INDICATOR ENHANCED
   ============================================ */

.thinking-indicator {
    @apply rounded-xl p-3;
    background: linear-gradient(135deg, rgba(168, 85, 247, 0.1) 0%, rgba(139, 92, 246, 0.1) 100%);
    border: 1px solid rgba(168, 85, 247, 0.25);
    animation: thinkingPulse 2s ease-in-out infinite;
}

@keyframes thinkingPulse {
    0%, 100% {
        border-color: rgba(168, 85, 247, 0.25);
    }
    50% {
        border-color: rgba(168, 85, 247, 0.45);
    }
}

.thinking-dot {
    @apply w-2 h-2 rounded-full;
    background: linear-gradient(135deg, #a855f7 0%, #8b5cf6 100%);
}

/* ============================================
   ENHANCED CTA BUTTON
   ============================================ */

.btn-cta {
    @apply px-5 py-2.5 text-sm font-semibold rounded-xl;
    @apply text-white;
    background: var(--gradient-primary);
    box-shadow: 0 4px 20px rgba(139, 92, 246, 0.35);
    transition: all 200ms ease-out;
    position: relative;
    overflow: hidden;
}

.btn-cta::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.15), transparent);
    transition: left 400ms ease-out;
}

.btn-cta:hover:not(:disabled) {
    box-shadow: 0 6px 30px rgba(139, 92, 246, 0.5);
    transform: translateY(-2px);
}

.btn-cta:hover:not(:disabled)::before {
    left: 100%;
}

.btn-cta:active:not(:disabled) {
    transform: translateY(0) scale(0.98);
    transition-duration: 50ms;
}

/* ============================================
   ENHANCED SCROLLBAR
   ============================================ */

.scrollbar-enhanced::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

.scrollbar-enhanced::-webkit-scrollbar-track {
    background: var(--bg-1);
    border-radius: 4px;
}

.scrollbar-enhanced::-webkit-scrollbar-track:hover {
    background: var(--bg-2);
}

.scrollbar-enhanced::-webkit-scrollbar-thumb {
    background: rgba(148, 163, 184, 0.4);
    border-radius: 4px;
    border: 2px solid transparent;
    background-clip: padding-box;
}

.scrollbar-enhanced::-webkit-scrollbar-thumb:hover {
    background: rgba(148, 163, 184, 0.6);
    background-clip: padding-box;
}

/* ============================================
   FILE TREE ENHANCEMENTS
   ============================================ */

.file-tree-item {
    @apply flex items-center gap-2 px-2 py-1.5 rounded-lg;
    @apply cursor-pointer;
    color: var(--text-secondary);
    transition: all 150ms ease-out;
    border-left: 2px solid transparent;
}

.file-tree-item:hover {
    background: var(--bg-2);
    color: var(--text-primary);
    border-left-color: var(--border-strong);
    transform: translateX(2px);
}

.file-tree-item-selected {
    background: var(--accent-indigo-bg);
    color: white;
    border-left-color: var(--accent-indigo);
    box-shadow: inset 0 0 0 1px var(--accent-indigo-border);
}

.file-tree-checkbox {
    @apply flex-shrink-0 w-4 h-4 rounded;
    @apply flex items-center justify-center;
    border: 2px solid var(--border-strong);
    background: transparent;
    transition: all 150ms ease-out;
    cursor: pointer;
}

.file-tree-checkbox:hover {
    border-color: var(--accent-indigo);
    background: rgba(99, 102, 241, 0.1);
}

.file-tree-checkbox-checked {
    background: var(--accent-indigo);
    border-color: var(--accent-indigo);
    box-shadow: 0 0 8px rgba(99, 102, 241, 0.4);
}

.file-tree-checkbox-checked svg {
    @apply text-white;
}

/* Folder expand animation */
.folder-expand-enter-active {
    animation: folderExpand 200ms ease-out;
}

.folder-expand-leave-active {
    animation: folderExpand 150ms ease-in reverse;
}

@keyframes folderExpand {
    from {
        opacity: 0;
        max-height: 0;
        transform: translateY(-8px);
    }
    to {
        opacity: 1;
        max-height: 1000px;
        transform: translateY(0);
    }
}

/* ============================================
   FILTER CHIPS ENHANCED
   ============================================ */

.filter-chip {
    @apply px-3 py-1.5 text-xs font-semibold rounded-full;
    @apply flex items-center gap-1.5;
    @apply cursor-pointer select-none;
    background: var(--bg-2);
    color: var(--text-secondary);
    border: 1px solid var(--border-default);
    transition: all 150ms ease-out;
}

.filter-chip:hover:not(.filter-chip-active) {
    background: var(--bg-3);
    color: var(--text-primary);
    border-color: var(--border-strong);
    transform: translateY(-1px);
}

.filter-chip:active {
    transform: scale(0.97);
}

.filter-chip-active {
    background: var(--accent-indigo-bg);
    color: white;
    border-color: var(--accent-indigo-border);
    box-shadow: 0 0 12px rgba(99, 102, 241, 0.3);
}

.filter-chip-count {
    @apply px-1.5 py-0.5 rounded-full text-[10px] font-bold;
    background: rgba(255, 255, 255, 0.15);
}

/* ============================================
   STAT CARDS ENHANCED
   ============================================ */

.stat-card-enhanced {
    @apply text-center p-4 rounded-xl;
    background: var(--bg-1);
    border: 1px solid var(--border-default);
    transition: all 200ms ease-out;
}

.stat-card-enhanced:hover {
    background: var(--bg-2);
    border-color: var(--border-strong);
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

.stat-card-value {
    @apply text-2xl font-bold;
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

/* ============================================
   PROGRESS BAR ENHANCED
   ============================================ */

.progress-bar-enhanced {
    @apply h-2 rounded-full overflow-hidden;
    background: var(--bg-2);
}

.progress-bar-fill {
    @apply h-full rounded-full;
    background: var(--gradient-primary);
    transition: width 300ms ease-out;
    position: relative;
}

.progress-bar-fill::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    animation: progressShimmer 2s ease-in-out infinite;
}

.progress-bar-fill-folder {
    @apply h-full rounded-full;
    background: rgba(59, 130, 246, 0.6);
    transition: width 500ms ease-out;
}

@keyframes progressShimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

/* ============================================
   TOAST ENHANCED
   ============================================ */

.toast-enhanced {
    @apply flex items-center gap-3 px-4 py-3;
    @apply rounded-xl;
    @apply min-w-[300px] max-w-md;
    backdrop-filter: blur(12px);
    box-shadow: var(--shadow-xl);
    animation: toastSlideIn 300ms cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes toastSlideIn {
    from {
        opacity: 0;
        transform: translateY(20px) scale(0.95);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

.toast-progress {
    @apply absolute bottom-0 left-0 h-1 rounded-b-xl;
    background: rgba(255, 255, 255, 0.3);
    animation: toastProgress 5s linear forwards;
}

@keyframes toastProgress {
    from { width: 100%; }
    to { width: 0%; }
}

/* ============================================
   MODAL ENHANCED
   ============================================ */

.modal-backdrop-enhanced {
    @apply fixed inset-0;
    background: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(8px);
    z-index: var(--z-modal-backdrop);
    animation: modalBackdropIn 200ms ease-out;
}

@keyframes modalBackdropIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

.modal-content-enhanced {
    @apply w-full max-w-lg p-6 rounded-2xl;
    background: var(--bg-1);
    border: 1px solid var(--border-default);
    box-shadow: var(--shadow-xl);
    animation: modalContentIn 250ms cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes modalContentIn {
    from {
        opacity: 0;
        transform: scale(0.95) translateY(-10px);
    }
    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

/* ============================================
   LIST STAGGER ANIMATION
   ============================================ */

.list-stagger > * {
    animation: listItemFadeIn 300ms ease-out backwards;
}

.list-stagger > *:nth-child(1) { animation-delay: 0ms; }
.list-stagger > *:nth-child(2) { animation-delay: 30ms; }
.list-stagger > *:nth-child(3) { animation-delay: 60ms; }
.list-stagger > *:nth-child(4) { animation-delay: 90ms; }
.list-stagger > *:nth-child(5) { animation-delay: 120ms; }
.list-stagger > *:nth-child(6) { animation-delay: 150ms; }
.list-stagger > *:nth-child(7) { animation-delay: 180ms; }
.list-stagger > *:nth-child(8) { animation-delay: 210ms; }
.list-stagger > *:nth-child(9) { animation-delay: 240ms; }
.list-stagger > *:nth-child(10) { animation-delay: 270ms; }

@keyframes listItemFadeIn {
    from {
        opacity: 0;
        transform: translateX(-10px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}


/* ============================================
   AWESOME FILE TREE - PREMIUM TREE VIEW
   ============================================ */

:root {
    /* Tree line colors by depth */
    --tree-line-1: rgba(99, 102, 241, 0.5);
    --tree-line-2: rgba(168, 85, 247, 0.5);
    --tree-line-3: rgba(236, 72, 153, 0.5);
    --tree-line-4: rgba(56, 189, 248, 0.4);
    --tree-line-5: rgba(148, 163, 184, 0.3);
    --tree-indent: 16px;
    --tree-line-width: 1.5px;
}

/* Tree Row */
.tree-row {
    @apply flex items-center gap-2 py-1.5 rounded-lg;
    @apply cursor-pointer select-none;
    position: relative;
    color: var(--text-secondary);
    transition: all 150ms ease-out;
    min-height: 32px;
    margin: 1px 0;
}

.tree-row:hover {
    background: rgba(99, 102, 241, 0.1);
    color: var(--text-primary);
}

.tree-row-selected {
    background: rgba(99, 102, 241, 0.2) !important;
    color: white !important;
    box-shadow: inset 0 0 0 1px rgba(99, 102, 241, 0.4);
    border-radius: 6px;
}

.tree-row-selected:hover {
    background: rgba(99, 102, 241, 0.28) !important;
}

/* Tree Guide Lines (SVG) */
.tree-guides {
    position: absolute;
    top: 0;
    pointer-events: none;
    overflow: visible;
}

.tree-guide-line {
    fill: none;
    stroke-width: 1.5;
    stroke-linecap: round;
    stroke-linejoin: round;
    opacity: 0.6;
    transition: opacity 150ms ease-out;
}

.tree-row:hover .tree-guide-line {
    opacity: 1;
}

/* Guide colors by depth - distinct colors for debugging */
.tree-guide-1 { stroke: #60a5fa; } /* blue */
.tree-guide-2 { stroke: #a78bfa; } /* purple */
.tree-guide-3 { stroke: #f472b6; } /* pink */
.tree-guide-4 { stroke: #34d399; } /* green */
.tree-guide-5 { stroke: #94a3b8; } /* gray */

/* Expand Icon */
.tree-expand {
    @apply flex-shrink-0 w-5 h-5 rounded;
    @apply flex items-center justify-center cursor-pointer;
    color: #64748b;
    transition: all 150ms ease-out;
}

.tree-expand:hover {
    color: #94a3b8;
    background: rgba(100, 116, 139, 0.15);
}

.tree-expand-icon {
    @apply w-[14px] h-[14px];
    transition: transform 150ms ease-out;
}

.tree-expand-open .tree-expand-icon {
    transform: rotate(90deg);
}

.tree-expand-pulse {
    animation: treeExpandPulse 300ms ease-out;
}

@keyframes treeExpandPulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.2); }
    100% { transform: scale(1); }
}

/* Tree Checkbox */
.tree-cb {
    @apply flex-shrink-0 w-[18px] h-[18px] rounded;
    @apply flex items-center justify-center cursor-pointer;
    border: 2px solid rgba(148, 163, 184, 0.5);
    background: rgba(30, 40, 66, 0.5);
    transition: all 150ms ease-out;
    position: relative;
    overflow: hidden;
}

.tree-cb:hover {
    border-color: rgba(99, 102, 241, 0.7);
    background: rgba(99, 102, 241, 0.15);
}

.tree-cb-checked {
    background: #6366f1;
    border-color: #6366f1;
    box-shadow: 0 0 6px rgba(99, 102, 241, 0.5);
}

.tree-cb-partial {
    background: rgba(99, 102, 241, 0.4);
    border-color: rgba(99, 102, 241, 0.7);
}

.tree-cb-icon {
    @apply w-3 h-3 text-white;
    transform: scale(0);
    transition: transform 150ms cubic-bezier(0.4, 0, 0.2, 1);
}

.tree-cb-checked .tree-cb-icon {
    transform: scale(1);
}

.tree-cb-ripple {
    animation: treeCbRipple 400ms ease-out;
}

@keyframes treeCbRipple {
    0% { box-shadow: 0 0 0 0 rgba(99, 102, 241, 0.4); }
    100% { box-shadow: 0 0 0 8px rgba(99, 102, 241, 0); }
}

/* Tree Icons */
.tree-icon {
    @apply flex-shrink-0 w-5 h-5 flex items-center justify-center;
}

.tree-folder-icon {
    @apply w-[18px] h-[18px];
    color: #93c5fd;
    transition: all 150ms ease-out;
}

.tree-row:hover .tree-folder-icon {
    color: #bfdbfe;
}

.tree-file-icon {
    @apply text-sm;
}

/* Tree Name */
.tree-name {
    @apply flex-1 truncate text-sm font-medium;
}

/* Tree Count Badge */
.tree-count {
    @apply text-[10px] px-1.5 py-0.5 rounded-md font-medium;
    background: rgba(100, 116, 139, 0.25);
    color: #94a3b8;
    transition: all 150ms ease-out;
    min-width: 16px;
    text-align: center;
    line-height: 1;
}

.tree-row:hover .tree-count {
    background: rgba(100, 116, 139, 0.35);
    color: #cbd5e1;
}

.tree-row-selected .tree-count {
    background: rgba(255, 255, 255, 0.15);
    color: rgba(255, 255, 255, 0.8);
}

.tree-count-bounce {
    animation: treeCountBounce 300ms cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

@keyframes treeCountBounce {
    0% { transform: scale(1); }
    50% { transform: scale(1.3); }
    100% { transform: scale(1); }
}

/* Tree Size */
.tree-size {
    @apply text-[11px] font-medium;
    color: #64748b;
}

.tree-row:hover .tree-size {
    color: #94a3b8;
}

/* Children Animation */
.tree-children-enter-active {
    animation: treeChildrenExpand 250ms ease-out;
}

.tree-children-leave-active {
    animation: treeChildrenExpand 200ms ease-in reverse;
}

@keyframes treeChildrenExpand {
    from { opacity: 0; max-height: 0; }
    to { opacity: 1; max-height: 2000px; }
}

/* Child Stagger */
.tree-stagger { animation: treeStaggerIn 200ms ease-out backwards; }
.tree-stagger:nth-child(1) { animation-delay: 0ms; }
.tree-stagger:nth-child(2) { animation-delay: 25ms; }
.tree-stagger:nth-child(3) { animation-delay: 50ms; }
.tree-stagger:nth-child(4) { animation-delay: 75ms; }
.tree-stagger:nth-child(5) { animation-delay: 100ms; }
.tree-stagger:nth-child(6) { animation-delay: 125ms; }
.tree-stagger:nth-child(7) { animation-delay: 150ms; }
.tree-stagger:nth-child(8) { animation-delay: 175ms; }
.tree-stagger:nth-child(9) { animation-delay: 200ms; }
.tree-stagger:nth-child(10) { animation-delay: 225ms; }

@keyframes treeStaggerIn {
    from { opacity: 0; transform: translateX(-8px); }
    to { opacity: 1; transform: translateX(0); }
}

/* Depth Background */
.tree-depth-1 { background: rgba(99, 102, 241, 0.02); }
.tree-depth-2 { background: rgba(168, 85, 247, 0.02); }
.tree-depth-3 { background: rgba(236, 72, 153, 0.02); }
.tree-depth-4 { background: rgba(56, 189, 248, 0.02); }

/* Preview Button */
.tree-preview {
    @apply p-1 rounded-md opacity-0;
    color: var(--text-muted);
    transition: all 150ms ease-out;
}

.tree-row:hover .tree-preview { opacity: 1; }

.tree-preview:hover {
    color: var(--text-primary);
    background: var(--bg-3);
}

/* Git Status */
.tree-git { @apply w-2 h-2 rounded-full flex-shrink-0; }
.tree-git-tracked { background: var(--color-success); box-shadow: 0 0 6px var(--color-success); }
.tree-git-modified { background: var(--color-warning); box-shadow: 0 0 6px var(--color-warning); }
.tree-git-untracked { background: var(--color-danger); box-shadow: 0 0 6px var(--color-danger); }
.tree-git-ignored { background: var(--text-subtle); }

/* Search Highlight */
.tree-highlight {
    background: rgba(251, 191, 36, 0.3);
    color: white;
    padding: 0 2px;
    border-radius: 2px;
}

/* Keyboard Focus */
.tree-row:focus-visible {
    @apply outline-none;
    box-shadow: 0 0 0 2px var(--accent-indigo), 0 0 0 4px rgba(99, 102, 241, 0.2);
}


/* Tree Tooltip */
.tree-tooltip {
    @apply absolute z-50 px-2 py-1 text-xs rounded-lg whitespace-nowrap pointer-events-none;
    background: var(--bg-3);
    color: var(--text-primary);
    border: 1px solid var(--border-default);
    box-shadow: var(--shadow-lg);
    animation: treeTooltipIn 150ms ease-out;
}

@keyframes treeTooltipIn {
    from { opacity: 0; transform: translateY(4px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Tree Children Transition */
.tree-children-enter-active {
    animation: treeChildrenExpand 250ms ease-out;
}

.tree-children-leave-active {
    animation: treeChildrenExpand 200ms ease-in reverse;
}


/* ============================================
   GIT FILTER CHIPS
   ============================================ */

.git-filter-chip {
    @apply inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-xl;
    @apply cursor-pointer select-none;
    background: var(--bg-2);
    color: var(--text-secondary);
    border: 1px solid var(--border-default);
    transition: all 150ms ease-out;
}

.git-filter-chip:hover {
    background: var(--bg-3);
    color: var(--text-primary);
    border-color: var(--border-strong);
    transform: translateY(-1px);
}

.git-filter-chip-active {
    background: var(--accent-indigo-bg);
    color: white;
    border-color: var(--accent-indigo-border);
    box-shadow: 0 0 12px rgba(99, 102, 241, 0.3);
}

.git-filter-chip-active:hover {
    background: rgba(99, 102, 241, 0.35);
}

.git-filter-icon {
    @apply text-sm;
}

.git-filter-count {
    @apply px-1.5 py-0.5 rounded-full text-[10px] font-bold;
    background: rgba(255, 255, 255, 0.15);
}

/* ============================================
   UNIFIED BUTTON RADIUS FIX
   All buttons should use rounded-xl (14px)
   ============================================ */

.btn, .btn-primary, .btn-secondary, .btn-ghost, .btn-sm,
.action-btn, .action-btn-primary, .action-btn-success, .action-btn-danger,
.tab-btn, .tab-btn-inactive,
.git-filter-chip, button[class*="btn"] {
    border-radius: var(--radius-xl) !important;
}

/* Action button accent variant */
.action-btn-accent {
    background: var(--accent-orange-bg);
    color: var(--accent-orange);
    border: 1px solid var(--accent-orange-border);
}

.action-btn-accent:hover:not(:disabled) {
    background: rgba(249, 115, 22, 0.35);
    box-shadow: var(--shadow-glow-orange);
}

/* Branch info card */
.branch-info {
    @apply flex items-center gap-3 p-3 rounded-xl;
    background: var(--bg-2);
    border: 1px solid var(--border-default);
}

/* File list container */
.file-list-container {
    @apply max-h-64 overflow-y-auto rounded-xl;
    background: var(--bg-1);
    border: 1px solid var(--border-subtle);
}


/* ============================================
   FILTERS BAR (QuickFiltersBar)
   ============================================ */

.filters-bar {
    @apply flex items-center gap-2 px-3 py-2;
    border-bottom: 1px solid var(--border-default);
    background: var(--bg-1);
    flex-wrap: wrap;
    min-height: 44px;
}

.filter-groups {
    @apply flex items-center gap-2;
    flex-wrap: wrap;
    flex-shrink: 0;
}

.filter-actions {
    @apply flex items-center gap-2;
    flex-shrink: 0;
}

.active-filters {
    @apply flex items-center gap-1.5;
    flex-wrap: wrap;
    flex: 1;
    min-width: 0;
}


/* ============================================
   SYNTAX HIGHLIGHTING (Context Preview)
   ============================================ */

/* XML Format */
.syntax-tag {
    color: #7dd3fc; /* sky-300 */
}

.syntax-attr {
    color: #c4b5fd; /* violet-300 */
}

.syntax-string {
    color: #86efac; /* green-300 */
}

.syntax-punct {
    color: #94a3b8; /* slate-400 */
}

/* Markdown Format */
.syntax-heading {
    color: #f472b6; /* pink-400 */
    font-weight: 600;
}

.syntax-fence {
    color: #fbbf24; /* amber-400 */
    background: rgba(251, 191, 36, 0.1);
    padding: 0 4px;
    border-radius: 4px;
}

/* JSON Format */
.syntax-key {
    color: #a5b4fc; /* indigo-300 */
}

.syntax-value {
    color: #fca5a5; /* red-300 */
}

/* Plain Text Format */
.syntax-separator {
    color: #fbbf24; /* amber-400 */
    font-weight: 600;
    background: rgba(251, 191, 36, 0.1);
    display: inline-block;
    padding: 0 4px;
    border-radius: 4px;
}


/* ============================================
   DROP ZONE (Drag & Drop)
   ============================================ */

.drop-zone-overlay {
    position: absolute;
    inset: 0;
    z-index: 50;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(10, 14, 26, 0.9);
    border: 2px dashed var(--accent-indigo);
    border-radius: 12px;
    backdrop-filter: blur(4px);
    animation: dropZonePulse 1.5s ease-in-out infinite;
}

.drop-zone-content {
    text-align: center;
    padding: 2rem;
}

@keyframes dropZonePulse {
    0%, 100% {
        border-color: var(--accent-indigo);
        box-shadow: 0 0 20px rgba(99, 102, 241, 0.2);
    }
    50% {
        border-color: var(--accent-purple);
        box-shadow: 0 0 30px rgba(168, 85, 247, 0.3);
    }
}


/* ============================================
   QUICKLOOK MODAL
   ============================================ */

.quicklook-overlay {
    position: fixed;
    inset: 0;
    z-index: 50;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(4px);
}

.quicklook-modal {
    width: 100%;
    max-width: 56rem;
    max-height: 85vh;
    display: flex;
    flex-direction: column;
    border-radius: 1rem;
    overflow: hidden;
    background: var(--bg-1);
    border: 1px solid var(--border-default);
    box-shadow: var(--shadow-xl);
}

.quicklook-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.75rem 1rem;
    background: var(--bg-2);
    border-bottom: 1px solid var(--border-default);
}

.quicklook-filename {
    font-weight: 600;
    color: white;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.quicklook-path {
    font-size: 0.75rem;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    color: var(--text-muted);
}

.quicklook-content {
    flex: 1;
    overflow: auto;
    min-height: 200px;
    max-height: 60vh;
}

.quicklook-loading,
.quicklook-error,
.quicklook-binary {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
    padding: 3rem 0;
    color: var(--text-secondary);
}

.quicklook-code {
    padding: 1rem;
    margin: 0;
    font-size: 0.875rem;
    font-family: ui-monospace, monospace;
    background: var(--bg-0);
    color: var(--text-secondary);
    white-space: pre-wrap;
    word-break: break-word;
}

.quicklook-footer {
    display: flex;
    align-items: center;
    justify-content: flex-end;
    gap: 0.5rem;
    padding: 0.75rem 1rem;
    background: var(--bg-2);
    border-top: 1px solid var(--border-default);
}


/* ============================================
   TOGGLE SWITCH
   ============================================ */

.toggle-label {
    @apply flex items-center gap-3 cursor-pointer;
    color: var(--text-secondary);
}

.toggle-label:hover .toggle-text {
    color: var(--text-primary);
}

.toggle-container {
    @apply relative w-9 h-5 flex-shrink-0;
}

.toggle-track {
    @apply absolute inset-0 rounded-full;
    background: var(--bg-3);
    transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
}

.toggle-container:hover .toggle-track {
    background: rgba(148, 163, 184, 0.35);
}

.peer:checked ~ .toggle-track {
    background: var(--accent-indigo);
    box-shadow: 0 0 12px rgba(99, 102, 241, 0.4);
}

.toggle-thumb {
    @apply absolute left-0.5 top-0.5 w-4 h-4 rounded-full bg-white;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    transition: transform 200ms cubic-bezier(0.4, 0, 0.2, 1);
}

.peer:checked ~ .toggle-thumb {
    transform: translateX(16px);
}

.toggle-text {
    @apply text-xs;
    transition: color 150ms ease-out;
}


/* ============================================
   SIDEBAR TABS INDICATOR
   ============================================ */

.tabs-indicator-icon {
    @apply absolute top-2 bottom-2 rounded-xl;
    width: calc(20% - 4px);
    left: 4px;
    transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1),
                background 200ms ease-out,
                box-shadow 200ms ease-out;
    z-index: 0;
    pointer-events: none;
}

.tabs-indicator-indigo {
    background: rgba(99, 102, 241, 0.25);
    border: 1px solid rgba(99, 102, 241, 0.4);
    box-shadow: 0 0 12px rgba(99, 102, 241, 0.3);
}

.tabs-indicator-emerald {
    background: rgba(16, 185, 129, 0.25);
    border: 1px solid rgba(16, 185, 129, 0.4);
    box-shadow: 0 0 12px rgba(16, 185, 129, 0.3);
}

.tabs-indicator-orange {
    background: rgba(249, 115, 22, 0.25);
    border: 1px solid rgba(249, 115, 22, 0.4);
    box-shadow: 0 0 12px rgba(249, 115, 22, 0.3);
}

.tabs-indicator-purple {
    background: rgba(168, 85, 247, 0.25);
    border: 1px solid rgba(168, 85, 247, 0.4);
    box-shadow: 0 0 12px rgba(168, 85, 247, 0.3);
}

.sidebar-tab-icon {
    @apply flex-1 flex items-center justify-center p-2.5 rounded-xl relative z-10;
    color: var(--text-muted);
    transition: color 150ms ease-out, transform 100ms ease-out;
}

.sidebar-tab-icon:hover:not(.sidebar-tab-icon-active) {
    color: var(--text-secondary);
}

.sidebar-tab-icon:active {
    transform: scale(0.93);
}

.sidebar-tab-icon-active {
    @apply font-semibold;
}


/* ============================================
   SECTION ICONS (colored squares)
   ============================================ */

.section-icon {
    @apply w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0;
    transition: all 150ms ease-out;
}

.section-icon-indigo {
    background: var(--accent-indigo-bg);
    border: 1px solid var(--accent-indigo-border);
    color: var(--accent-indigo);
}

.section-icon-purple {
    background: var(--accent-purple-bg);
    border: 1px solid var(--accent-purple-border);
    color: var(--accent-purple);
}

.section-icon-orange {
    background: var(--accent-orange-bg);
    border: 1px solid var(--accent-orange-border);
    color: var(--accent-orange);
}

.section-icon-emerald {
    background: var(--accent-emerald-bg);
    border: 1px solid var(--accent-emerald-border);
    color: var(--accent-emerald);
}


/* ============================================
   INFO BOX VARIANTS
   ============================================ */

.info-box-purple {
    @apply p-3 rounded-xl;
    background: var(--accent-purple-bg);
    border: 1px solid var(--accent-purple-border);
}

.info-box-indigo {
    @apply p-3 rounded-xl;
    background: var(--accent-indigo-bg);
    border: 1px solid var(--accent-indigo-border);
}


/* ============================================
   TEXT SIZE UTILITIES
   ============================================ */

.text-2xs {
    font-size: 10px;
    line-height: 14px;
}


/* ============================================
   BORDER ACCENT UTILITIES
   ============================================ */

.border-l-accent-indigo {
    border-left: 2px solid var(--accent-indigo-border);
}

.border-l-accent-purple {
    border-left: 2px solid var(--accent-purple-border);
}


/* ============================================
   STATUS MESSAGE
   ============================================ */

.status-message {
    @apply text-xs p-2.5 rounded-lg flex items-center gap-2;
}

.status-message-success {
    background: var(--color-success-soft);
    color: var(--color-success);
    border: 1px solid var(--color-success-border);
}

.status-message-error {
    background: var(--color-danger-soft);
    color: var(--color-danger);
    border: 1px solid var(--color-danger-border);
}


/* ============================================
   COLLAPSIBLE SECTION
   ============================================ */

.collapsible-section {
    @apply rounded-xl overflow-hidden;
    background: var(--bg-1);
    border: 1px solid var(--border-subtle);
    transition: border-color 200ms ease-out;
}

.collapsible-section:hover {
    border-color: var(--border-default);
}

.collapsible-header {
    @apply w-full px-3 py-2.5 flex items-center justify-between;
    @apply cursor-pointer select-none;
    background: transparent;
    transition: background 150ms ease-out;
}

.collapsible-header:hover {
    background: var(--bg-2);
}

.collapsible-header-open {
    border-bottom: 1px solid var(--border-subtle);
}

.collapsible-title {
    @apply flex items-center gap-2;
}

.collapsible-icon {
    @apply w-6 h-6 rounded-md flex items-center justify-center;
    transition: transform 200ms ease-out;
}

.collapsible-icon-indigo {
    background: var(--accent-indigo-bg);
    color: #a5b4fc;
}

.collapsible-icon-purple {
    background: var(--accent-purple-bg);
    color: #d8b4fe;
}

.collapsible-icon-emerald {
    background: var(--accent-emerald-bg);
    color: #6ee7b7;
}

.collapsible-icon-orange {
    background: var(--accent-orange-bg);
    color: #fdba74;
}

.collapsible-icon-pink {
    background: rgba(236, 72, 153, 0.25);
    color: #f9a8d4;
}

.collapsible-label {
    @apply text-xs font-semibold;
    color: var(--text-primary);
}

.collapsible-arrow {
    @apply w-4 h-4;
    color: var(--text-muted);
    transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);
}

.collapsible-arrow-open {
    transform: rotate(180deg);
}

.collapsible-content {
    @apply px-3 py-3 space-y-2;
}

/* Collapsible Transition */
.collapsible-enter-active {
    transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);
    overflow: hidden;
}

.collapsible-leave-active {
    transition: all 200ms cubic-bezier(0.4, 0, 1, 1);
    overflow: hidden;
}

.collapsible-enter-from,
.collapsible-leave-to {
    opacity: 0;
    max-height: 0;
    padding-top: 0;
    padding-bottom: 0;
}

.collapsible-enter-to,
.collapsible-leave-from {
    opacity: 1;
    max-height: 500px;
}


/* ============================================
   ENHANCED TOGGLE SWITCH
   ============================================ */

.toggle-label {
    @apply flex items-center gap-3 cursor-pointer;
}

.toggle-switch {
    @apply relative w-9 h-5 rounded-full;
    @apply flex-shrink-0;
    background: var(--bg-3);
    transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);
    cursor: pointer;
}

.toggle-switch:hover {
    background: rgba(148, 163, 184, 0.35);
}

.toggle-switch-active {
    background: var(--accent-indigo);
    box-shadow: 0 0 12px rgba(99, 102, 241, 0.4);
}

.toggle-switch-active:hover {
    background: rgba(99, 102, 241, 0.85);
}

.toggle-switch-thumb {
    @apply absolute top-0.5 left-0.5 w-4 h-4 rounded-full;
    background: white;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.25);
    transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1),
                box-shadow 200ms ease-out;
}

.toggle-switch-thumb-active {
    transform: translateX(16px);
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
}

.toggle-text {
    @apply text-xs;
    color: var(--text-secondary);
    transition: color 150ms ease-out;
}

.toggle-label:hover .toggle-text {
    color: var(--text-primary);
}


/* ============================================
   CHUNK COPY BAR
   ============================================ */

.chunk-copy-bar {
    @apply p-3 rounded-xl space-y-3;
    background: rgba(245, 158, 11, 0.08);
    border: 1px solid rgba(245, 158, 11, 0.25);
}

.chunk-copy-header {
    @apply flex items-center gap-2;
    @apply text-xs font-semibold;
    color: var(--color-warning);
}

/* Main copy button - prominent CTA */
.chunk-copy-main-btn {
    @apply w-full flex items-center justify-center gap-2;
    @apply px-4 py-2.5 rounded-lg;
    @apply text-sm font-semibold;
    background: var(--accent-indigo);
    color: white;
    border: none;
    box-shadow: 0 4px 12px rgba(99, 102, 241, 0.35);
    transition: all 200ms ease-out;
    cursor: pointer;
}

.chunk-copy-main-btn:hover:not(:disabled) {
    background: rgba(99, 102, 241, 0.9);
    box-shadow: 0 6px 20px rgba(99, 102, 241, 0.45);
    transform: translateY(-1px);
}

.chunk-copy-main-btn:active:not(:disabled) {
    transform: translateY(0);
}

.chunk-copy-main-btn:disabled {
    @apply opacity-50 cursor-not-allowed;
}

/* Done state */
.chunk-copy-done {
    @apply w-full flex items-center justify-center gap-2;
    @apply px-4 py-2.5 rounded-lg;
    @apply text-sm font-semibold;
    background: var(--color-success-soft);
    color: var(--color-success);
    border: 1px solid var(--color-success-border);
}

/* Progress bar */
.chunk-copy-progress {
    @apply w-full h-1.5 rounded-full overflow-hidden;
    background: var(--bg-2);
}

.chunk-copy-progress-bar {
    @apply h-full rounded-full;
    background: linear-gradient(90deg, var(--color-success), #6ee7b7);
    transition: width 300ms ease-out;
}

/* Chunk buttons grid */
.chunk-copy-grid {
    @apply flex flex-wrap gap-1.5;
}

.chunk-btn {
    @apply relative flex flex-col items-center justify-center;
    @apply px-3 py-2 rounded-lg;
    min-width: 52px;
    min-height: 44px;
    background: var(--bg-2);
    border: 2px solid var(--border-default);
    color: var(--text-muted);
    transition: all 150ms ease-out;
    cursor: pointer;
}

.chunk-btn:hover {
    background: var(--bg-3);
    border-color: var(--border-strong);
    color: var(--text-primary);
    transform: translateY(-1px);
}

.chunk-btn:active {
    transform: translateY(0);
}

/* Pending state - not yet copied, not next */
.chunk-btn-pending {
    @apply opacity-60;
}

.chunk-btn-pending:hover {
    @apply opacity-100;
}

/* Next to copy - highlighted */
.chunk-btn-next {
    background: var(--accent-indigo-bg);
    border-color: var(--accent-indigo-border);
    color: white;
    box-shadow: 0 0 12px rgba(99, 102, 241, 0.4);
    animation: chunkPulse 2s ease-in-out infinite;
}

.chunk-btn-next:hover {
    background: rgba(99, 102, 241, 0.35);
    box-shadow: 0 0 16px rgba(99, 102, 241, 0.5);
}

@keyframes chunkPulse {
    0%, 100% { box-shadow: 0 0 12px rgba(99, 102, 241, 0.4); }
    50% { box-shadow: 0 0 20px rgba(99, 102, 241, 0.6); }
}

/* Copied state - green checkmark */
.chunk-btn-copied {
    background: var(--color-success-soft);
    border-color: var(--color-success-border);
    color: var(--color-success);
}

.chunk-btn-copied:hover {
    background: rgba(74, 222, 128, 0.25);
    border-color: rgba(74, 222, 128, 0.55);
}

.chunk-btn-icon {
    @apply w-4 h-4;
}

.chunk-btn-index {
    @apply font-bold;
    font-size: 13px;
}

.chunk-btn-tokens {
    @apply font-medium;
    font-size: 10px;
    opacity: 0.8;
}

/* Footer with status and reset */
.chunk-copy-footer {
    @apply flex items-center justify-between;
    @apply pt-2 border-t;
    border-color: rgba(245, 158, 11, 0.15);
}

.chunk-copy-status {
    @apply text-2xs;
    color: var(--text-muted);
}

.chunk-copy-reset {
    @apply flex items-center gap-1 px-2 py-1 rounded-md;
    @apply text-2xs font-medium;
    color: var(--text-muted);
    background: transparent;
    border: 1px solid transparent;
    transition: all 150ms ease-out;
    cursor: pointer;
}

.chunk-copy-reset:hover {
    color: var(--text-primary);
    background: var(--bg-2);
    border-color: var(--border-default);
}

/* Generate button */
.chunk-generate-btn {
    @apply w-full flex items-center justify-center gap-2;
    @apply px-4 py-2.5 rounded-lg;
    @apply text-sm font-medium;
    background: var(--bg-2);
    border: 1px solid var(--border-default);
    color: var(--text-secondary);
    transition: all 150ms ease-out;
    cursor: pointer;
}

.chunk-generate-btn:hover:not(:disabled) {
    background: var(--bg-3);
    border-color: var(--border-strong);
    color: var(--text-primary);
}

.chunk-generate-btn:disabled {
    @apply opacity-50 cursor-not-allowed;
}
