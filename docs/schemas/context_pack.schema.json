{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Shotgun.ContextPack",
  "type": "object",
  "required": [
    "target",
    "snippets",
    "constraints",
    "provenance"
  ],
  "properties": {
    "packVersion": {
      "type": "string"
    },
    "target": {
      "type": "object",
      "properties": {
        "lang": {
          "type": "string"
        },
        "file": {
          "type": "string"
        },
        "symbol": {
          "type": "string"
        }
      }
    },
    "snippets": {
      "type": "array",
      "items": {
        "type": "object",
        "required": [
          "path",
          "kind",
          "startLine",
          "endLine",
          "textHash"
        ],
        "properties": {
          "path": {
            "type": "string"
          },
          "kind": {
            "type": "string",
            "enum": [
              "header",
              "imports",
              "body",
              "match"
            ]
          },
          "startLine": {
            "type": "integer"
          },
          "endLine": {
            "type": "integer"
          },
          "textHash": {
            "type": "string"
          }
        }
      }
    },
    "deps": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "pkg": {
            "type": "string"
          },
          "version": {
            "type": "string"
          },
          "license": {
            "type": "string"
          },
          "path": {
            "type": "string"
          }
        }
      }
    },
    "build": {
      "type": "object",
      "properties": {
        "toolchain": {
          "type": "string"
        },
        "commands": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "env": {
          "type": "object"
        }
      }
    },
    "tests": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "path": {
            "type": "string"
          },
          "reason": {
            "type": "string"
          }
        }
      }
    },
    "constraints": {
      "type": "object",
      "properties": {
        "maxFiles": {
          "type": "integer"
        },
        "maxLines": {
          "type": "integer"
        },
        "timeBudget": {
          "type": "string"
        }
      }
    },
    "provenance": {
      "type": "object",
      "properties": {
        "indexedAt": {
          "type": "string"
        },
        "indexId": {
          "type": "string"
        },
        "sourceMirror": {
          "type": "string"
        }
      }
    }
  }
}