Content Optimizer для AI-контекста - План реализации
====================================================

Шаг 1: Базовые утилиты
----------------------
[x] 1.1 whitespace_optimizer.go - схлопывание пустых строк
[x] 1.2 whitespace_optimizer_test.go
[x] 1.3 license_stripper.go - удаление лицензий/copyright
[x] 1.4 license_stripper_test.go
[x] 1.5 test_filter.go - определение тестовых файлов
[x] 1.6 test_filter_test.go

Шаг 2: Data compactor
---------------------
[x] 2.1 data_compactor.go - сжатие JSON/YAML
[x] 2.2 data_compactor_test.go

Шаг 3: Skeleton generator (AST-based)
-------------------------------------
[x] 3.1 skeleton_generator.go - генерация скелета кода
[x] 3.2 skeleton_generator_test.go

Шаг 4: Главный оптимизатор
--------------------------
[x] 4.1 content_optimizer.go - объединяет все оптимизации
[x] 4.2 content_optimizer_test.go

Шаг 5: Интеграция
-----------------
[x] 5.1 domain/interfaces.go - добавить ContentOptimizer интерфейс
[x] 5.2 domain/models.go - расширить ContextBuildOptions
[x] 5.3 internal/context/service.go - интегрировать оптимизатор
[ ] 5.4 cmd/app/container.go - DI для оптимизатора (опционально)

Шаг 6: Тесты интеграции
-----------------------
[x] 6.1 Проверить go build
[x] 6.2 Запустить тесты textutils
[x] 6.3 Тесты service_optimization_test.go - исправлен isTestFile для путей без leading slash

ГОТОВО!
=======
Все основные компоненты реализованы и интегрированы.

Новые опции в ContextBuildOptions:
- ExcludeTests       - исключать тестовые файлы
- CollapseEmptyLines - схлопывать пустые строки
- StripLicense       - удалять лицензии
- CompactDataFiles   - сжимать JSON/YAML
- SkeletonMode       - только скелет кода (AST)
- TrimWhitespace     - удалять trailing whitespace
